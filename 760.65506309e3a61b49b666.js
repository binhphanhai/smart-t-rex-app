(self.webpackChunksmart_t_rex_app=self.webpackChunksmart_t_rex_app||[]).push([[760],{9071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7294),o=n(978);const i=function(){var e=(0,o.pg)();return r.createElement("div",null,r.createElement("div",{className:"text-primary text-center h3 welcome-message"},"Hi ".concat(e.name,", your current entry count is...")),r.createElement("div",{className:"text-primary text-center h1"},e.entries))}},1760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(7294),o=n(682),i=n(6455),a=n.n(i),c=n(978),l=n(3950),u=n(1401),s=n(2894),f=n(9071),m=n(5508);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n,o=e.setImgUrl,i=(t=(0,r.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],l=i[1];return r.createElement("div",null,r.createElement("div",null,r.createElement("p",{className:"h3 text-center bold"},"I am Smart T-Rex, I will recognize international celebrites in your images."),r.createElement("p",{className:"h3 text-center bold"},"Git me a try."),r.createElement("div",{className:"d-flex justify-content-center"},r.createElement("div",{className:"input-form input-recognize rounded shadow row justify-content-center"},r.createElement("input",{className:"col-12 col-md-9 mt-2 mb-2",type:"text",value:c,placeholder:"Input Image URL",onChange:function(e){return l(e.target.value)}}),r.createElement("button",{className:"col-6 col-md-3 h3 btn btn-info mt-2",onClick:function(){c.length>m.mj?(a().fire({icon:"error",title:"Image URL is too long",text:"Please input other image URL, maximun supported length is ".concat(m.mj)}),l("")):c.match(/(\.|\=)(jpeg|jpg|gif|png)/)?o(c):(a().fire({icon:"error",title:"Recognize failed",text:"Please input image URL containing image's format"}),l(""))}},r.createElement("span",{className:"h5 bold"},"Recognize"))))))};const g=r.memo(d);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=r.lazy((function(){return n.e(166).then(n.bind(n,5166))}));const S=function(){var e=b((0,r.useState)(""),2),t=e[0],n=e[1],i=b((0,r.useState)(!1),2),m=i[0],p=i[1],d=b((0,r.useState)([]),2),h=d[0],v=d[1],E=(0,c.pg)(),S=(0,c.ei)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Failed on fetching API",t=arguments.length>1?arguments[1]:void 0;a().fire({icon:"error",title:e,text:t||"Something went wrong!"})};return(0,r.useEffect)((function(){t&&(p((function(e){return e+1})),v([]),(0,l.oS)(t).then((function(e){p((function(e){return e-1})),v(e.data);var n,r=e.data.filter((function(e){return e.prediction>.1})).map((function(e){return e.name}));r.length>0?(n=(0,u.R1)(r),p((function(e){return e+1})),(0,l.mN)(t,n).then((function(e){p((function(e){return e-1}))})).catch((function(e){var t;p((function(e){return e-1})),j("Add Image failed",null===(t=e.response)||void 0===t?void 0:t.data.message)}))):a().fire({icon:"info",title:"Unknown celebrity",text:"I will not add this image to gallery"}),p((function(e){return e+1})),(0,l.pD)(E.id).then((function(e){p((function(e){return e-1})),S(y(y({},E),{},{entries:e.data}))})).catch((function(e){var t;p((function(e){return e-1})),j("Increase entry failed",null===(t=e.response)||void 0===t?void 0:t.data.message)}))})).catch((function(e){var t;p((function(e){return e-1})),j("Recognize failed",null===(t=e.response)||void 0===t?void 0:t.data.message)})))}),[t]),r.createElement(o.Z,null,r.createElement(f.Z,null),r.createElement(g,{setImgUrl:n}),m>0&&r.createElement(s.Z,null),t.length>0&&r.createElement(r.Suspense,{fallback:r.createElement(s.Z,null)},r.createElement(w,{imgUrl:t,celebrities:h})))}},1401:(e,t,n)=>{"use strict";n.d(t,{Oo:()=>o,R1:()=>i,SN:()=>a});var r=n(5508),o=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},i=function(e){var t=[],n={};return e.forEach((function(e){void 0===n[e]&&(n[e]=!0,t.push(e))})),t},a=function(e){var t=r.Q_.PENDING,n=e.then((function(e){t=r.Q_.SUCCESS,n=e.data})).catch((function(e){var o;t=r.Q_.ERROR,n=null===(o=e.response)||void 0===o?void 0:o.data}));return{read:function(){if(t===r.Q_.PENDING)throw n;if(t===r.Q_.ERROR)throw n;if(t===r.Q_.SUCCESS)return n;throw new Error("This should be impossible")}}}},3950:(e,t,n)=>{"use strict";n.d(t,{x4:()=>i,z2:()=>a,pD:()=>c,oS:()=>l,mN:()=>u,HP:()=>s,AR:()=>f,iD:()=>m});var r=n(9669),o=n.n(r)().create({baseURL:"https://smart-t-rex-api.herokuapp.com/",headers:{"content-type":"application/json"}}),i=function(e,t){return o.post("/login",{email:e,password:t})},a=function(e,t,n){return o.post("/register",{email:e,name:t,password:n})},c=function(e){return o.put("/user/increaseEntry",{id:e})},l=function(e){return o.post("/image/recognize",{url:e})},u=function(e,t){return o.post("/image",{url:e,celebs:t})},s=function(){return o.get("/image/getAllCelebrities")},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return o.post("/image/getImagesByCelebrity",{celeb:e,top:t})},m=function(){return o.get("/image/getImageCountByCelebrity")}}}]);